<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5CQRF34L');
    </script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - Premium Electronics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #2196F3;
            --color-primary-dark: #1565C0;
            --color-secondary: #FF9800;
            --color-bg: #f5f5f5;
            --color-text: #333;
            --color-text-light: #666;
            --color-border: #ddd;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-white: #fff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        header {
            background: var(--color-white);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--color-primary);
            text-decoration: none;
            cursor: pointer;
        }

        .search-bar {
            flex: 1;
            max-width: 400px;
            margin: 0 30px;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid var(--color-border);
            border-radius: 25px;
            font-size: 14px;
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .header-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 20px;
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--color-error);
            color: var(--color-white);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 30px;
            padding: 15px 0;
            border-top: 1px solid var(--color-border);
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap;
        }

        nav a, nav button {
            background: none;
            border: none;
            text-decoration: none;
            color: var(--color-text);
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
            font-size: 14px;
        }

        nav a:hover, nav button:hover {
            color: var(--color-primary);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .banner {
            background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
            color: var(--color-white);
            padding: 40px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .banner h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: var(--color-white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            overflow: hidden;
        }

        .product-info {
            padding: 15px;
        }

        .product-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--color-text);
        }

        .product-description {
            font-size: 13px;
            color: var(--color-text-light);
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 18px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .rating {
            color: var(--color-secondary);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
        }

        .btn-primary {
            background: var(--color-primary);
            color: var(--color-white);
            width: 100%;
        }

        .btn-primary:hover {
            background: var(--color-primary-dark);
        }

        .btn-secondary {
            background: var(--color-secondary);
            color: var(--color-white);
        }

        .btn-secondary:hover {
            background: #E68900;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
        }

        .btn-outline:hover {
            background: var(--color-primary);
            color: var(--color-white);
        }

        .sidebar {
            position: fixed;
            right: 0;
            top: 0;
            width: 350px;
            height: 100vh;
            background: var(--color-white);
            box-shadow: -2px 0 8px rgba(0,0,0,0.1);
            z-index: 200;
            transform: translateX(100%);
            transition: transform 0.3s;
            overflow-y: auto;
        }

        .sidebar.open {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 2px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-header h2 {
            font-size: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }

        .cart-items {
            padding: 20px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--color-border);
            margin-bottom: 10px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--color-primary);
            font-weight: 600;
        }

        .quantity-control {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .quantity-control button {
            width: 25px;
            height: 25px;
            border: 1px solid var(--color-border);
            background: var(--color-white);
            cursor: pointer;
            border-radius: 3px;
        }

        .remove-btn {
            background: var(--color-error);
            color: var(--color-white);
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .cart-summary {
            padding: 20px;
            border-top: 2px solid var(--color-border);
            position: sticky;
            bottom: 0;
            background: var(--color-white);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .summary-row.total {
            font-size: 18px;
            color: var(--color-primary);
            padding-top: 10px;
            border-top: 1px solid var(--color-border);
        }

        .checkout-btn {
            width: 100%;
            padding: 12px;
            background: var(--color-success);
            color: var(--color-white);
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }

        .checkout-btn:hover {
            background: #45a049;
        }

        .empty-cart {
            text-align: center;
            padding: 30px;
            color: var(--color-text-light);
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 150;
        }

        .overlay.open {
            display: block;
        }

        .cart-page-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .cart-items-section {
            background: var(--color-white);
            padding: 30px;
            border-radius: 8px;
        }

        .cart-items-section h2 {
            margin-bottom: 20px;
        }

        .cart-page-item {
            display: grid;
            grid-template-columns: 80px 1fr auto;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid var(--color-border);
            align-items: center;
        }

        .cart-page-item:last-child {
            border-bottom: none;
        }

        .cart-page-image {
            font-size: 60px;
            text-align: center;
        }

        .cart-page-info h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
        }

        .cart-page-info p {
            margin: 5px 0;
            font-size: 14px;
            color: var(--color-text-light);
        }

        .cart-page-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .qty-control {
            display: flex;
            gap: 5px;
            align-items: center;
            justify-content: center;
        }

        .qty-control button {
            width: 30px;
            height: 30px;
            border: 1px solid var(--color-border);
            background: var(--color-white);
            cursor: pointer;
            border-radius: 3px;
            font-weight: bold;
        }

        .cart-summary-box {
            background: var(--color-white);
            padding: 30px;
            border-radius: 8px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .cart-summary-box h3 {
            margin-top: 0;
            margin-bottom: 20px;
        }

        .summary-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .summary-line.total {
            font-weight: bold;
            font-size: 18px;
            color: var(--color-primary);
            padding-top: 12px;
            border-top: 2px solid var(--color-border);
            margin-bottom: 20px;
        }

        .checkout-page-container {
            max-width: 800px;
            margin: 30px auto;
            background: var(--color-white);
            padding: 30px;
            border-radius: 8px;
        }

        .checkout-section {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--color-border);
        }

        .checkout-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .checkout-section h3 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .checkout-order-summary {
            background: var(--color-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .checkout-order-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .payment-option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-option:hover {
            border-color: var(--color-primary);
            background: rgba(33, 150, 243, 0.05);
        }

        .payment-option input[type="radio"] {
            margin-right: 15px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .payment-option-icon {
            font-size: 32px;
            margin-right: 15px;
        }

        .payment-option-info {
            flex: 1;
        }

        .payment-option-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--color-text);
            margin-bottom: 4px;
        }

        .payment-option-desc {
            font-size: 13px;
            color: var(--color-text-light);
        }

        .payment-details {
            background: var(--color-bg);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }

        .payment-details.show {
            display: block;
        }

        .payment-details h4 {
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--color-text);
        }

        .info-box {
            background: rgba(255, 193, 7, 0.1);
            border-left: 4px solid var(--color-secondary);
            padding: 12px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 13px;
        }

        .purchase-confirmation {
            text-align: center;
        }

        .purchase-confirmation h2 {
            color: var(--color-success);
            font-size: 28px;
            margin: 20px 0;
        }

        .purchase-confirmation p {
            color: var(--color-text-light);
            margin-bottom: 30px;
        }

        .purchase-order-box {
            background: var(--color-bg);
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
            text-align: left;
        }

        .order-detail-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--color-border);
        }

        .order-detail-row:last-child {
            border-bottom: none;
        }

        .order-detail-label {
            font-weight: 600;
            color: var(--color-text);
        }

        .order-detail-value {
            color: var(--color-text-light);
        }

        .confirmation-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 0.6s ease-out;
        }

        @keyframes bounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .pdp-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }

        .pdp-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            border-radius: 8px;
        }

        .pdp-details h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--color-text);
        }

        .pdp-rating {
            font-size: 16px;
            color: var(--color-secondary);
            margin-bottom: 15px;
        }

        .pdp-price {
            font-size: 32px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 20px;
        }

        .pdp-description {
            color: var(--color-text-light);
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .pdp-specs {
            background: var(--color-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .pdp-specs h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--color-border);
        }

        .spec-item:last-child {
            border-bottom: none;
        }

        .pdp-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .pdp-actions .btn {
            flex: 1;
        }

        .form-section {
            background: var(--color-white);
            padding: 30px;
            border-radius: 8px;
            max-width: 600px;
            margin: 30px auto;
        }

        .form-section h2 {
            margin-bottom: 20px;
            color: var(--color-text);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--color-border);
            border-radius: 5px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .success-message {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid var(--color-success);
            color: var(--color-success);
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }

        .success-message.show {
            display: block;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--color-success);
            color: var(--color-white);
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 300;
            animation: slideIn 0.3s, slideOut 0.3s 2.7s;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(400px); }
        }

        footer {
            background: var(--color-text);
            color: var(--color-white);
            padding: 30px;
            text-align: center;
            margin-top: 50px;
        }

        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 10px;
            }

            .search-bar {
                max-width: 100%;
                margin: 10px 0;
            }

            .sidebar {
                width: 100%;
            }

            nav {
                gap: 15px;
                font-size: 12px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }

            .pdp-container {
                grid-template-columns: 1fr;
            }

            .cart-page-container {
                grid-template-columns: 1fr;
            }

            .cart-summary-box {
                position: static;
            }

            .banner {
                padding: 20px;
            }

            .banner h1 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5CQRF34L"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

    <header>
        <div class="header-top">
            <a onclick="navigateTo('home')" class="logo">üõçÔ∏è TechStore</a>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search products...">
            </div>
            <div class="header-actions">
                <button class="icon-btn" title="Wishlist">‚ù§Ô∏è</button>
                <button class="icon-btn" id="cartBtn" title="Shopping Cart">
                    üõí
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="icon-btn" title="Account" onclick="navigateTo('account')">üë§</button>
            </div>
        </div>
        <nav>
            <button onclick="navigateTo('home')">Home</button>
            <button onclick="navigateTo('products')">Products</button>
            <button onclick="navigateTo('contact')">Contact Us</button>
            <button onclick="navigateTo('signup')">Sign Up</button>
            <button onclick="navigateTo('cart')">View Cart</button>
        </nav>
    </header>

    <!-- HOME PAGE -->
    <div id="home" class="page active">
        <div class="container">
            <div class="banner">
                <h1>Welcome to TechStore</h1>
                <p>Discover the latest in technology at unbeatable prices</p>
                <br>
                <button class="btn btn-secondary" onclick="navigateTo('products')">Shop Now</button>
            </div>

            <h2>Featured Products</h2>
            <div class="products-grid" id="homeProductsGrid"></div>
        </div>
    </div>

    <!-- PRODUCTS PAGE -->
    <div id="products" class="page">
        <div class="container">
            <div class="banner">
                <h1>All Products</h1>
                <p>Browse our complete collection</p>
            </div>

            <div style="margin-bottom: 20px; display: flex; gap: 10px;">
                <button class="btn btn-outline" onclick="filterProducts('all')">All</button>
                <button class="btn btn-outline" onclick="filterProducts('electronics')">Electronics</button>
                <button class="btn btn-outline" onclick="filterProducts('accessories')">Accessories</button>
            </div>

            <div class="products-grid" id="productsGrid"></div>
        </div>
    </div>

    <!-- PRODUCT DETAIL PAGE -->
    <div id="pdp" class="page">
        <div class="container">
            <button class="btn btn-outline" onclick="navigateTo('products')" style="margin-bottom: 20px;">‚Üê Back to Products</button>
            <div class="pdp-container" id="pdpContainer"></div>
        </div>
    </div>

    <!-- CONTACT US PAGE -->
    <div id="contact" class="page">
        <div class="container">
            <div class="form-section">
                <h2>Contact Us</h2>
                <div class="success-message" id="contactSuccess">
                    Thank you! Your message has been received. We'll get back to you soon.
                </div>

                <form id="contactForm">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="contactName" required>
                    </div>

                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="contactEmail" required>
                    </div>

                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="contactPhone" required>
                    </div>

                    <div class="form-group">
                        <label>Subject</label>
                        <select id="contactSubject" required>
                            <option value="">Select a subject</option>
                            <option value="product">Product Inquiry</option>
                            <option value="order">Order Issue</option>
                            <option value="feedback">Feedback</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Message</label>
                        <textarea id="contactMessage" required></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </div>

    <!-- SIGNUP PAGE -->
    <div id="signup" class="page">
        <div class="container">
            <div class="form-section">
                <h2>Create Account</h2>
                <div class="success-message" id="signupSuccess">
                    Account created successfully! Welcome to TechStore.
                </div>

                <form id="signupForm">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="signupName" required>
                    </div>

                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="signupEmail" required>
                    </div>

                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="signupPhone" required>
                    </div>

                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="signupPassword" required>
                    </div>

                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" required>
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="signupTerms" required>
                            I agree to the Terms and Conditions
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- ACCOUNT PAGE -->
    <div id="account" class="page">
        <div class="container">
            <div class="form-section">
                <h2>My Account</h2>
                <div id="accountInfo" style="display: none;">
                    <p><strong>Name:</strong> <span id="accountName"></span></p>
                    <p><strong>Email:</strong> <span id="accountEmail"></span></p>
                    <p><strong>Phone:</strong> <span id="accountPhone"></span></p>
                    <button class="btn btn-primary" onclick="navigateTo('signup')">Update Profile</button>
                </div>
                <div id="accountEmpty" style="text-align: center; padding: 40px;">
                    <p style="margin-bottom: 20px;">You are not logged in. Please create an account or sign in.</p>
                    <button class="btn btn-primary" onclick="navigateTo('signup')" style="width: auto;">Sign Up / Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CART PAGE -->
    <div id="cart" class="page">
        <div class="container">
            <h1 style="margin-bottom: 30px;">Shopping Cart</h1>

            <div id="emptyCartMessage" style="display: none; text-align: center; padding: 60px 20px;">
                <p style="font-size: 18px; color: var(--color-text-light); margin-bottom: 20px;">Your cart is empty</p>
                <button class="btn btn-primary" onclick="navigateTo('products')" style="width: auto;">Continue Shopping</button>
            </div>

            <div id="cartPageContent" class="cart-page-container">
                <div class="cart-items-section">
                    <h2>Order Items</h2>
                    <div id="cartPageItems"></div>
                </div>

                <div class="cart-summary-box">
                    <h3>Order Summary</h3>
                    <div class="summary-line">
                        <span>Subtotal:</span>
                        <span id="cartPageSubtotal">$0.00</span>
                    </div>
                    <div class="summary-line">
                        <span>Tax (10%):</span>
                        <span id="cartPageTax">$0.00</span>
                    </div>
                    <div class="summary-line total">
                        <span>Total:</span>
                        <span id="cartPageTotal">$0.00</span>
                    </div>
                    <button class="btn btn-primary" onclick="navigateTo('checkout')">Proceed to Checkout</button>
                    <button class="btn btn-outline" onclick="navigateTo('products')" style="margin-top: 10px;">Continue Shopping</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CHECKOUT PAGE -->
    <div id="checkout" class="page">
        <div class="container">
            <button class="btn btn-outline" onclick="navigateTo('cart')" style="margin-bottom: 20px;">‚Üê Back to Cart</button>

            <div class="checkout-page-container">
                <h1>Checkout</h1>

                <div class="checkout-section">
                    <h3>Order Summary</h3>
                    <div class="checkout-order-summary" id="checkoutSummary"></div>
                </div>

                <div class="checkout-section">
                    <h3>Shipping Information</h3>
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="shippingName" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="shippingEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="shippingPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Delivery Address</label>
                        <input type="text" id="shippingAddress" required>
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" id="shippingCity" required>
                    </div>
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" id="shippingZip" required>
                    </div>
                </div>

                <div class="checkout-section">
                    <h3>Payment Method</h3>
                    <div class="payment-methods">
                        <label class="payment-option" onclick="selectCheckoutPaymentMethod('upi')">
                            <input type="radio" name="checkoutPayment" value="upi" id="checkoutUPI">
                            <div class="payment-option-icon">üì±</div>
                            <div class="payment-option-info">
                                <div class="payment-option-title">UPI Payment</div>
                                <div class="payment-option-desc">Google Pay, PhonePe, Paytm</div>
                            </div>
                        </label>

                        <label class="payment-option" onclick="selectCheckoutPaymentMethod('cod')">
                            <input type="radio" name="checkoutPayment" value="cod" id="checkoutCOD">
                            <div class="payment-option-icon">üíµ</div>
                            <div class="payment-option-info">
                                <div class="payment-option-title">Cash on Delivery</div>
                                <div class="payment-option-desc">Pay when you receive</div>
                            </div>
                        </label>

                        <label class="payment-option" onclick="selectCheckoutPaymentMethod('card')">
                            <input type="radio" name="checkoutPayment" value="card" id="checkoutCard">
                            <div class="payment-option-icon">üí≥</div>
                            <div class="payment-option-info">
                                <div class="payment-option-title">Credit/Debit Card</div>
                                <div class="payment-option-desc">Visa, Mastercard, Amex</div>
                            </div>
                        </label>
                    </div>

                    <div class="payment-details" id="upiPaymentDetails">
                        <h4>UPI Payment Details</h4>
                        <div class="info-box">‚ÑπÔ∏è You will be redirected to your UPI app</div>
                        <div class="form-group">
                            <label>UPI ID</label>
                            <input type="text" id="upiPaymentId" placeholder="yourname@okhdfcbank">
                        </div>
                    </div>

                    <div class="payment-details" id="cardPaymentDetails">
                        <h4>Card Details</h4>
                        <div class="form-group">
                            <label>Cardholder Name</label>
                            <input type="text" id="cardName">
                        </div>
                        <div class="form-group">
                            <label>Card Number</label>
                            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div class="form-group">
                                <label>Expiry Date</label>
                                <input type="text" id="cardExpiry" placeholder="MM/YY">
                            </div>
                            <div class="form-group">
                                <label>CVV</label>
                                <input type="text" id="cardCVV" placeholder="123">
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="processCheckout()">Complete Purchase</button>
            </div>
        </div>
    </div>

    <!-- PURCHASE CONFIRMATION PAGE -->
    <div id="purchase" class="page">
        <div class="container">
            <div class="checkout-page-container">
                <div class="purchase-confirmation">
                    <div class="confirmation-icon">‚úÖ</div>
                    <h2>Order Placed Successfully!</h2>
                    <p>Thank you for your purchase. Your order has been confirmed.</p>

                    <div class="purchase-order-box">
                        <div class="order-detail-row">
                            <span class="order-detail-label">Order ID:</span>
                            <span class="order-detail-value" id="purchaseOrderId">#ORD-2024-000001</span>
                        </div>
                        <div class="order-detail-row">
                            <span class="order-detail-label">Total Amount:</span>
                            <span class="order-detail-value" id="purchaseTotal">$0.00</span>
                        </div>
                        <div class="order-detail-row">
                            <span class="order-detail-label">Payment Method:</span>
                            <span class="order-detail-value" id="purchasePaymentMethod">UPI</span>
                        </div>
                        <div class="order-detail-row">
                            <span class="order-detail-label">Estimated Delivery:</span>
                            <span class="order-detail-value">5-7 Business Days</span>
                        </div>
                        <div class="order-detail-row">
                            <span class="order-detail-label">Confirmation Email:</span>
                            <span class="order-detail-value" id="purchaseEmail">email@example.com</span>
                        </div>
                    </div>

                    <p style="font-size: 14px; color: var(--color-text-light); margin: 30px 0;">
                        A confirmation email has been sent to your registered email address with tracking details.
                    </p>

                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button class="btn btn-primary" onclick="navigateTo('home')" style="width: auto;">Back to Home</button>
                        <button class="btn btn-outline" onclick="navigateTo('products')" style="width: auto;">Continue Shopping</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="overlay" id="cartOverlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Shopping Cart</h2>
            <button class="close-btn" onclick="toggleCart()">‚úï</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">Your cart is empty</div>
        </div>
        <div class="cart-summary">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="subtotal">$0.00</span>
            </div>
            <div class="summary-row">
                <span>Tax (10%):</span>
                <span id="tax">$0.00</span>
            </div>
            <div class="summary-row total">
                <span>Total:</span>
                <span id="total">$0.00</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 TechStore. All rights reserved. | <button onclick="navigateTo('contact')" style="background: none; border: none; color: inherit; cursor: pointer; text-decoration: underline;">Privacy Policy</button> | Terms of Service</p>
    </footer>

    <script>
        window.dataLayer = window.dataLayer || [];
        
        // Fire page_view event on initial page load
        document.addEventListener('DOMContentLoaded', () => {
            window.dataLayer.push({
                event: 'page_view',
                page_title: 'Home',
                page_path: '/home'
            });
        });
        
        const products = [
            { id: 1, name: 'Wireless Headphones', price: 79.99, category: 'electronics', emoji: 'üéß', rating: 4.5, description: 'Premium sound quality', fullDescription: 'Experience crystal-clear audio with our premium wireless headphones. Features active noise cancellation, 30-hour battery life, and premium build quality.', specs: { 'Driver Size': '40mm', 'Frequency Response': '20Hz - 20kHz', 'Impedance': '32Œ©', 'Connectivity': 'Bluetooth 5.0', 'Battery Life': '30 hours' } },
            { id: 2, name: 'Smart Watch', price: 199.99, category: 'electronics', emoji: '‚åö', rating: 4.3, description: 'Track your fitness goals', fullDescription: 'Stay connected and track your health with our advanced smartwatch. Monitor heart rate, sleep patterns, workouts, and receive notifications all day.', specs: { 'Display': 'AMOLED 1.4"', 'Battery': '7 days', 'Water Resistance': '5ATM', 'Compatibility': 'iOS & Android', 'Sensors': 'Heart Rate, SpO2, Temperature' } },
            { id: 3, name: 'USB-C Cable', price: 14.99, category: 'accessories', emoji: 'üîå', rating: 4.8, description: 'Fast charging cable', fullDescription: 'High-speed USB-C cable for fast charging and data transfer. Durable nylon braiding withstands 10,000+ bends.', specs: { 'Length': '2 meters', 'Max Current': '5A', 'Data Speed': 'USB 3.1 (480Mbps)', 'Durability': '10,000+ bends tested', 'Warranty': '2 years' } },
            { id: 4, name: 'Phone Case', price: 24.99, category: 'accessories', emoji: 'üì±', rating: 4.4, description: 'Durable protection', fullDescription: 'Military-grade protection with premium materials. Shock-absorbing design protects against drops up to 10 feet.', specs: { 'Material': 'Silicone + Polycarbonate', 'Drop Protection': '10 feet', 'Grip': 'Enhanced', 'Colors': '6 available', 'Compatibility': 'Universal' } },
            { id: 5, name: 'Laptop Stand', price: 49.99, category: 'accessories', emoji: 'üíª', rating: 4.6, description: 'Ergonomic design', fullDescription: 'Adjustable laptop stand for better posture and comfort. Aluminum construction with non-slip rubber pads.', specs: { 'Material': 'Aluminum Alloy', 'Max Weight': '15kg', 'Adjustable Height': '5-20cm', 'Compatibility': 'Universal', 'Weight': '1.2kg' } },
            { id: 6, name: 'Portable Charger', price: 34.99, category: 'electronics', emoji: 'üîã', rating: 4.7, description: '20000mAh capacity', fullDescription: 'Charge your devices multiple times with our compact 20000mAh power bank. Dual USB output and fast charging support.', specs: { 'Capacity': '20000mAh', 'Input': 'USB-C', 'Output': 'Dual USB + USB-C', 'Fast Charging': 'Yes (18W)', 'Recharge Time': '4 hours' } },
            { id: 7, name: 'Webcam HD', price: 59.99, category: 'electronics', emoji: 'üì∑', rating: 4.5, description: '1080p resolution', fullDescription: 'Crystal clear 1080p webcam perfect for streaming and video calls. Built-in microphone and auto-focus technology.', specs: { 'Resolution': '1080p (Full HD)', 'Frame Rate': '30fps', 'Field of View': '90¬∞', 'Microphone': 'Built-in', 'Compatibility': 'USB plug-and-play' } },
            { id: 8, name: 'Screen Protector', price: 9.99, category: 'accessories', emoji: 'üõ°Ô∏è', rating: 4.9, description: 'Tempered glass', fullDescription: 'Premium tempered glass protector with 9H hardness. Preserves screen clarity and responsiveness.', specs: { 'Material': 'Tempered Glass', 'Hardness': '9H', 'Thickness': '0.33mm', 'Pack': '3 pieces', 'Compatibility': 'Universal' } }
        ];

        let cart = [];
        let currentFilter = 'all';
        let currentPage = 'home';
        let accountData = null;

        function navigateTo(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            currentPage = page;
            window.scrollTo(0, 0);

            window.dataLayer.push({
                event: 'page_view',
                page_title: page.charAt(0).toUpperCase() + page.slice(1),
                page_path: '/' + page
            });

            if (page === 'products') renderProducts(products);
            else if (page === 'home') renderFeaturedProducts();
            else if (page === 'cart') renderCartPage();
            else if (page === 'checkout') renderCheckoutPage();
        }

        function renderFeaturedProducts() {
            const featured = products.slice(0, 4);
            document.getElementById('homeProductsGrid').innerHTML = featured.map(product => createProductCard(product)).join('');
        }

        function renderProducts(filteredProducts) {
            document.getElementById('productsGrid').innerHTML = filteredProducts.map(product => createProductCard(product)).join('');
        }

        function createProductCard(product) {
            return `
                <div class="product-card" onclick="viewProductDetail(${product.id})">
                    <div class="product-image">${product.emoji}</div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-description">${product.description}</div>
                        <div class="rating">‚≠ê ${product.rating} (120 reviews)</div>
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                        <button class="btn btn-primary" onclick="event.stopPropagation(); addToCart(${product.id})">Add to Cart</button>
                    </div>
                </div>
            `;
        }

        function viewProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            document.getElementById('pdpContainer').innerHTML = `
                <div class="pdp-image">${product.emoji}</div>
                <div class="pdp-details">
                    <h1>${product.name}</h1>
                    <div class="pdp-rating">‚≠ê ${product.rating} (120 reviews)</div>
                    <div class="pdp-price">$${product.price.toFixed(2)}</div>
                    <div class="pdp-description">${product.fullDescription}</div>
                    <div class="pdp-specs">
                        <h3>Specifications</h3>
                        ${Object.entries(product.specs).map(([key, value]) => `<div class="spec-item"><span>${key}</span><strong>${value}</strong></div>`).join('')}
                    </div>
                    <div class="pdp-actions">
                        <button class="btn btn-primary" onclick="addToCart(${product.id})">Add to Cart</button>
                        <button class="btn btn-outline" onclick="navigateTo('products')">Continue Shopping</button>
                    </div>
                </div>
            `;

            navigateTo('pdp');

            window.dataLayer.push({
                event: 'view_item',
                ecommerce: {
                    items: [{
                        item_id: String(product.id),
                        item_name: product.name,
                        price: product.price,
                        item_category: product.category
                    }]
                }
            });
        }

        function filterProducts(category) {
            currentFilter = category;
            const filtered = category === 'all' ? products : products.filter(p => p.category === category);
            renderProducts(filtered);
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) existingItem.quantity++;
            else cart.push({ ...product, quantity: 1 });

            updateCart();
            showNotification(`${product.name} added to cart!`);

            window.dataLayer.push({
                event: 'add_to_cart',
                ecommerce: {
                    currency: 'USD',
                    value: product.price,
                    items: [{
                        item_id: String(product.id),
                        item_name: product.name,
                        item_category: product.category,
                        price: product.price,
                        quantity: 1
                    }]
                }
            });
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) removeFromCart(productId);
                else updateCart();
            }
        }

        function updateCart() {
            const cartCount = document.getElementById('cartCount');
            const cartItemsDiv = document.getElementById('cartItems');

            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                cartCount.textContent = '0';
            } else {
                cartCount.textContent = cart.length;
                cartItemsDiv.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 5px;">
                            <div class="quantity-control">
                                <button onclick="updateQuantity(${item.id}, -1)">‚àí</button>
                                <span style="width: 25px; text-align: center;">${item.quantity}</span>
                                <button onclick="updateQuantity(${item.id}, 1)">+</button>
                            </div>
                            <button class="remove-btn" onclick="removeFromCart(${item.id})">Remove</button>
                        </div>
                    </div>
                `).join('');
            }

            updateSummary();
        }

        function updateSummary() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.1;
            const total = subtotal + tax;

            document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
            document.getElementById('total').textContent = `$${total.toFixed(2)}`;
        }

        function toggleCart() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('cartOverlay').classList.toggle('open');
        }

        function renderCartPage() {
            if (cart.length === 0) {
                document.getElementById('emptyCartMessage').style.display = 'block';
                document.getElementById('cartPageContent').style.display = 'none';
                return;
            }

            document.getElementById('emptyCartMessage').style.display = 'none';
            document.getElementById('cartPageContent').style.display = 'grid';

            const cartHTML = cart.map(item => `
                <div class="cart-page-item">
                    <div class="cart-page-image">${products.find(p => p.id === item.id).emoji}</div>
                    <div class="cart-page-info">
                        <h3>${item.name}</h3>
                        <p>Price: $${item.price.toFixed(2)}</p>
                        <p>Category: ${item.category}</p>
                    </div>
                    <div class="cart-page-actions">
                        <div class="qty-control">
                            <button onclick="updateQuantity(${item.id}, -1)">‚àí</button>
                            <span style="width: 30px; text-align: center;">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)">+</button>
                        </div>
                        <div style="font-weight: bold; color: var(--color-primary);">$${(item.price * item.quantity).toFixed(2)}</div>
                        <button class="remove-btn" onclick="removeFromCart(${item.id})">Remove</button>
                    </div>
                </div>
            `).join('');

            document.getElementById('cartPageItems').innerHTML = cartHTML;

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.1;
            const total = subtotal + tax;

            document.getElementById('cartPageSubtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('cartPageTax').textContent = `$${tax.toFixed(2)}`;
            document.getElementById('cartPageTotal').textContent = `$${total.toFixed(2)}`;
        }

        function renderCheckoutPage() {
            if (cart.length === 0) {
                navigateTo('cart');
                return;
            }

            const checkoutHTML = cart.map(item => `
                <div class="checkout-order-item">
                    <span>${item.name} x ${item.quantity}</span>
                    <span>$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
            `).join('');

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.1;
            const total = subtotal + tax;

            document.getElementById('checkoutSummary').innerHTML = checkoutHTML + `
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--color-border);">
                    <div class="checkout-order-item"><span>Subtotal</span><span>$${subtotal.toFixed(2)}</span></div>
                    <div class="checkout-order-item"><span>Tax (10%)</span><span>$${tax.toFixed(2)}</span></div>
                    <div class="checkout-order-item" style="font-weight: bold; font-size: 16px; color: var(--color-primary);"><span>Total</span><span>$${total.toFixed(2)}</span></div>
                </div>
            `;

            window.checkoutTotal = total;
        }

        function selectCheckoutPaymentMethod(method) {
            document.getElementById('upiPaymentDetails').classList.remove('show');
            document.getElementById('cardPaymentDetails').classList.remove('show');

            if (method === 'upi') {
                document.getElementById('checkoutUPI').checked = true;
                document.getElementById('upiPaymentDetails').classList.add('show');
            } else if (method === 'card') {
                document.getElementById('checkoutCard').checked = true;
                document.getElementById('cardPaymentDetails').classList.add('show');
            } else if (method === 'cod') {
                document.getElementById('checkoutCOD').checked = true;
            }
        }

        function checkout() {
            if (cart.length === 0) {
                showNotification('Cart is empty!');
                return;
            }
            navigateTo('checkout');
        }

        function processCheckout() {
            const paymentMethod = document.querySelector('input[name="checkoutPayment"]:checked');
            const name = document.getElementById('shippingName').value;
            const email = document.getElementById('shippingEmail').value;
            const phone = document.getElementById('shippingPhone').value;
            const address = document.getElementById('shippingAddress').value;

            if (!name || !email || !phone || !address) {
                showNotification('Please fill all shipping information');
                return;
            }

            if (!paymentMethod) {
                showNotification('Please select a payment method');
                return;
            }

            if (paymentMethod.value === 'upi') {
                const upiId = document.getElementById('upiPaymentId').value;
                if (!upiId) {
                    showNotification('Please enter UPI ID');
                    return;
                }
            } else if (paymentMethod.value === 'card') {
                const cardName = document.getElementById('cardName').value;
                const cardNumber = document.getElementById('cardNumber').value;
                const cardExpiry = document.getElementById('cardExpiry').value;
                const cardCVV = document.getElementById('cardCVV').value;

                if (!cardName || !cardNumber || !cardExpiry || !cardCVV) {
                    showNotification('Please fill all card details');
                    return;
                }
            }

            window.dataLayer.push({
                event: 'add_payment_info',
                ecommerce: {
                    currency: 'USD',
                    value: window.checkoutTotal || 0,
                    payment_type: paymentMethod.value.toUpperCase(),
                    items: cart.map(item => ({
                        item_id: String(item.id),
                        item_name: item.name,
                        item_category: item.category,
                        price: item.price,
                        quantity: item.quantity
                    }))
                }
            });

            const transactionId = '#ORD-' + new Date().getFullYear() + '-' + Math.random().toString(9).substr(2, 6).padStart(6, '0');
            window.dataLayer.push({
                event: 'purchase',
                ecommerce: {
                    transaction_id: transactionId,
                    currency: 'USD',
                    value: window.checkoutTotal || 0,
                    payment_type: paymentMethod.value.toUpperCase(),
                    items: cart.map(item => ({
                        item_id: String(item.id),
                        item_name: item.name,
                        item_category: item.category,
                        price: item.price,
                        quantity: item.quantity
                    }))
                }
            });

            document.getElementById('purchaseOrderId').textContent = transactionId;
            document.getElementById('purchaseTotal').textContent = `$${(window.checkoutTotal || 0).toFixed(2)}`;
            document.getElementById('purchasePaymentMethod').textContent = paymentMethod.value === 'cod' ? 'Cash on Delivery' : paymentMethod.value === 'upi' ? 'UPI Payment' : 'Credit/Debit Card';
            document.getElementById('purchaseEmail').textContent = email;

            showNotification('Processing payment...');
            setTimeout(() => {
                cart = [];
                updateCart();
                navigateTo('purchase');
                showNotification('Order placed successfully!');
            }, 2000);
        }

        function showNotification(message) {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        document.getElementById('contactForm')?.addEventListener('focus', function(e) {
            if (e.target.id === 'contactName' || e.target.id === 'contactEmail' || e.target.id === 'contactPhone' || e.target.id === 'contactSubject' || e.target.id === 'contactMessage') {
                const formStarted = window.contactFormStarted;
                if (!formStarted) {
                    window.dataLayer.push({
                        event: 'form_start',
                        form_type: 'contact',
                        form_name: 'Contact Us Form'
                    });
                    window.contactFormStarted = true;
                }
            }
        }, true);

        document.getElementById('contactForm')?.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const subject = document.getElementById('contactSubject').value;

            window.dataLayer.push({
                event: 'form_submit',
                form_type: 'contact',
                form_name: name,
                form_email: email,
                form_subject: subject
            });

            document.getElementById('contactSuccess').classList.add('show');
            document.getElementById('contactForm').reset();
            window.contactFormStarted = false;
            setTimeout(() => {
                document.getElementById('contactSuccess').classList.remove('show');
            }, 5000);
        });

        document.getElementById('signupForm')?.addEventListener('focus', function(e) {
            if (e.target.id === 'signupName' || e.target.id === 'signupEmail' || e.target.id === 'signupPhone' || e.target.id === 'signupPassword' || e.target.id === 'signupConfirmPassword' || e.target.id === 'signupTerms') {
                const formStarted = window.signupFormStarted;
                if (!formStarted) {
                    window.dataLayer.push({
                        event: 'form_start',
                        form_type: 'signup',
                        form_name: 'Signup Form'
                    });
                    window.signupFormStarted = true;
                }
            }
        }, true);

        document.getElementById('signupForm')?.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (password !== confirmPassword) {
                showNotification('Passwords do not match!');
                return;
            }

            accountData = { name, email, phone };

            window.dataLayer.push({
                event: 'form_submit',
                form_type: 'signup',
                form_email: email
            });

            window.dataLayer.push({
                event: 'sign_up',
                method: 'email',
                user_email: email
            });

            document.getElementById('signupSuccess').classList.add('show');
            document.getElementById('signupForm').reset();
            window.signupFormStarted = false;
            
            setTimeout(() => {
                document.getElementById('signupSuccess').classList.remove('show');
                updateAccountPage();
                navigateTo('account');
            }, 2000);
        });

        function updateAccountPage() {
            if (accountData) {
                document.getElementById('accountInfo').style.display = 'block';
                document.getElementById('accountEmpty').style.display = 'none';
                document.getElementById('accountName').textContent = accountData.name;
                document.getElementById('accountEmail').textContent = accountData.email;
                document.getElementById('accountPhone').textContent = accountData.phone;
            } else {
                document.getElementById('accountInfo').style.display = 'none';
                document.getElementById('accountEmpty').style.display = 'block';
            }
        }

        document.getElementById('cartBtn')?.addEventListener('click', toggleCart);
        document.getElementById('cartOverlay')?.addEventListener('click', toggleCart);

        document.getElementById('searchInput')?.addEventListener('keyup', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = products.filter(p => 
                p.name.toLowerCase().includes(term) || 
                p.description.toLowerCase().includes(term)
            );

            if (currentPage === 'products') {
                renderProducts(filtered);
            }
        });

        window.dataLayer = window.dataLayer || [];
        window.contactFormStarted = false;
        window.signupFormStarted = false;
        updateAccountPage();
        renderFeaturedProducts();
    </script>
</body>
</html>
